ARM GAS  /media/electronicdog/Windows/Users/lesyh/OneDrive/Documents/Renesas/bridge/v3.0.0/example/include/rcar_v3u/startup_gnu/startup_cr52.src 			page 1


   1              	
   2              	    .section    STARTUP
   3              		
   4              	    .global     UndefinedInstruction_Handler
   5              	    .global     SupervisorCall_Handler
   6              	    .global     PrefetchAbort_Handler
   7              	    .global     DataAbort_Handler
   8              	    .global     IRQ_Handler
   9              	    .global     __main
  10              	
  11 0000 1A0000EA 	    b   Reset_Handler   // 0x00
  12 0004 050000EA 	    b   UDF_EXC         // 0x04
  13 0008 080000EA 	    b   SVC_EXC         // 0x08
  14 000c 0B0000EA 	    b   PAB_EXC         // 0x0c
  15 0010 0E0000EA 	    b   DAB_EXC         // 0x10
  16 0014 00F020E3 	    nop                 // 0x14
  17 0018 100000EA 	    b   IRQ_EXC	        // 0x18
  18              	FIQ_EXC:                // 0x1c
  19              	    // If you want to use fast interrupt, place its service code here.
  20              	    // Maximum code size allowed is 4kB
  21 001c FEFFFFEA 	    b   FIQ_EXC
  22              	    
  23              	UDF_EXC:
  24 0020 0F5C2DE9 	    push    {r0-r3,r10-r12,lr}
  25 0024 FEFFFFEB 	    bl  UndefinedInstruction_Handler
  26 0028 0F5CBDE8 	    pop {r0-r3,r10-r12,lr}
  27 002c 6E0060E1 	    eret
  28              	
  29              	SVC_EXC:
  30 0030 0F5C2DE9 	    push    {r0-r3,r10-r12,lr}
  31 0034 FEFFFFEB 	    bl  SupervisorCall_Handler
  32 0038 0F5CBDE8 	    pop {r0-r3,r10-r12,lr}
  33 003c 6E0060E1 	    eret
  34              	
  35              	PAB_EXC:
  36 0040 0F5C2DE9 	    push    {r0-r3,r10-r12,lr}
  37 0044 FEFFFFEB 	    bl  PrefetchAbort_Handler
  38 0048 0F5CBDE8 	    pop {r0-r3,r10-r12,lr}
  39 004c 6E0060E1 	    eret
  40              	
  41              	DAB_EXC:
  42 0050 0F5C2DE9 	    push    {r0-r3,r10-r12,lr}
  43 0054 FEFFFFEB 	    bl  DataAbort_Handler
  44 0058 0F5CBDE8 	    pop {r0-r3,r10-r12,lr}
  45 005c 6E0060E1 	    eret
  46              	
  47              	IRQ_EXC:
  48 0060 0F5C2DE9 	    push    {r0-r3,r10-r12,lr}
  49 0064 FEFFFFEB 	    bl  IRQ_Handler
  50 0068 0F5CBDE8 	    pop {r0-r3,r10-r12,lr}
  51 006c 6E0060E1 	    eret
  52              	
  53              	Reset_Handler:
  54              	
  55              	    // Set the CPACR for access to CP10 and CP11 (the FPU coprocessors)
  56 0070 0F06A0E3 	    ldr r0, = (0xF << 20)
  57 0074 500F01EE 	    mcr p15, 0, r0, c1, c0, 2
ARM GAS  /media/electronicdog/Windows/Users/lesyh/OneDrive/Documents/Renesas/bridge/v3.0.0/example/include/rcar_v3u/startup_gnu/startup_cr52.src 			page 2


  58              	    // Set the FPEXC EN bit to enable the FPU
  59 0078 0030A0E3 	    mov  r3, #0x0
  60 007c 003044E3 	    movt r3, #0x4000
  61 0080 103AE8EE 	    vmsr FPEXC, r3
  62              	
  63              	    // Change vector base address
  64 0084 08009FE5 	    ldr r0, = 0xe6300000
  65 0088 100F8CEE 	    mcr p15, 4, r0, c12, c0, 0
  66 008c 100F0CEE 	    mcr p15, 0, r0, c12, c0, 0
  67              	
  68              	    // Give the control to the C library
  69 0090 FEFFFFEA 	    b   main
  70              	
  71 0094 000030E6 	    .end
